<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Butter2D - Butterworth Filter Demo</title>
  <link rel="stylesheet" href="styles.css">
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "37a0f981a37240aea00b781e300bc6c0"}'></script>
</head>
<body>
  <div class="container">
    <h1>Butter2D: Butterworth Filter Demo</h1>
    
    <div class="upload-section">
      <input type="file" id="imageUpload" accept="image/*">
      <button id="loadSample">Load Sample Image</button>
    </div>
    
    <div class="url-section">
      <input type="text" id="imageUrl" placeholder="Enter image URL">
      <button id="loadFromUrl">Load from URL</button>
    </div>
    
    <div class="controls">
      <div class="control-group">
        <label for="cutoffFrequency">Cutoff Frequency Ratio:</label>
        <input type="range" id="cutoffFrequency" min="0.01" max="0.49" step="0.01" value="0.06">
        <span id="cutoffValue">0.06</span>
      </div>
      
      <div class="control-group">
        <label for="order">Filter Order:</label>
        <input type="range" id="order" min="1" max="20" step="1" value="7">
        <span id="orderValue">7</span>
      </div>
      
      <div class="control-group checkbox">
        <input type="checkbox" id="highPass" checked>
        <label for="highPass">High Pass</label>
      </div>
      
      <div class="control-group checkbox">
        <input type="checkbox" id="squaredButterworth">
        <label for="squaredButterworth">Squared Butterworth</label>
      </div>
      
      <div class="control-group checkbox">
        <input type="checkbox" id="colorMode" checked>
        <label for="colorMode">Color Mode</label>
      </div>
      <button id="applyFilter">Apply Filter</button>
    </div>
    
    <div class="image-container">
      <div class="image-box">
        <h3>Original Image</h3>
        <img id="originalImage" src="assets/placeholder.png" alt="Original image">
      </div>
      
      <div class="image-box">
        <h3>Filtered Image</h3>
        <img id="filteredImage" src="assets/placeholder.png" alt="Filtered image">
      </div>
    </div>
    
    <div class="description">
      <h2>About Butterworth Filters</h2>
      <p>
        The Butterworth filter is designed to have a frequency response as flat as possible in the passband.
        It is often used in image processing to attenuate specific frequency components.
      </p>
      <p>
        <strong>Cutoff Frequency Ratio:</strong> Determines where the filter starts attenuating frequencies. Value between 0.0 and 0.5.
      </p>
      <p>
        <strong>Filter Order:</strong> Controls the steepness of the filter's transition. Higher orders result in sharper transitions.
      </p>
      <p>
        <strong>High Pass:</strong> When checked, attenuates low frequencies (e.g., blurs). When unchecked, attenuates high frequencies (e.g., details and noise).
      </p>
      <p>
        <strong>Squared Butterworth:</strong> When checked, the filter response is squared, resulting in a sharper transition.
      </p>
      <p>
        <strong>Color Mode:</strong> When checked, processes each RGB channel separately, preserving color information. When unchecked, converts to grayscale first.
      </p>
      <div class="warning-box">
        <h4>⚠️ Note on Image Dimensions</h4>
        <p>
          Images with non-square dimensions may show cross-shaped artifacts. For best results, use square images or balanced aspect ratios when possible.
        </p>
      </div>
    </div>
    
    <footer>
      <p>
        DOI: 10.5281/zenodo.11004855
        <a href="https://zenodo.org/records/11005158" target="_blank">zenodo</a>
      </p>
    </footer>
  </div>
  
  <script type="module" src="./index.js"></script>
</body>
</html>